# êµ¬í˜„ê³¼ì œ 2. Surveey

## êµ¬í˜„ê³¼ì œ ì„¤ëª…

> ì´ ê³¼ì œëŠ” [ìŠ¤ëª¨ì–´](https://home.smore.im/template?type=form&c=survey)ë¥¼ ëª¨í‹°ë¸Œë¡œ ì œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤.

> ë‚˜ë§Œì˜ ì„¤ë¬¸ì¡°ì‚¬ ë§Œë“¤ê¸°

> ì œì•½ì‚¬í•­

- ì„¤ë¬¸ ì§„í–‰ì€ í¼ë„ ë·°ë¡œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤. í•œ í™”ë©´ì—ëŠ” í•œ ë¬¸í•­ë§Œ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.
- ì„¤ë¬¸ ë¬¸í•­ ê°œìˆ˜ëŠ” 5ê°œ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.
- ì¡°ê±´ì— ë§žì§€ ì•ŠëŠ” ìž…ë ¥ì˜ ê²½ìš°, ì—ëŸ¬ê°€ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„ë˜ì–´ì•¼ í•˜ë©° ë‹¤ìŒ ìŠ¤í…ìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤.
- í•„ìˆ˜/ì„ íƒì´ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

## ê¸°ìˆ  ìŠ¤íƒ

- Next.js v14
- TailwindCSS
- @shadcn/ui
- React Hook Form
- Zod
- Swagger-typescript-api

## ê¸°íš ì˜ë„ ë° êµ¬í˜„ ë‚´ìš©

í•´ë‹¹ ê³¼ì œëŠ” ì¼ì¼í˜¸í”„ì—ì„œ ì´ì„±ì¹œêµ¬ ë§¤ì¹­ì„ ìœ„í•œ ì„¤ë¬¸ì§€ë¥¼ ìž‘ì„±í•˜ëŠ” ê²ƒì— ì˜ê°ì„ ë°›ì•„, ì›¹ í¼ìœ¼ë¡œ ì œì¶œí•˜ëŠ” ê²ƒì„ êµ¬í˜„í•˜ê³ ìž í•˜ì˜€ìŠµë‹ˆë‹¤ ðŸ¤— ì•„ëž˜ëŠ” êµ¬í˜„í•œ ë‚´ìš©ìž…ë‹ˆë‹¤.

1. ê¸°ë³¸(í•„ìˆ˜)ì •ë³´:
   `mbti`, `name`, `email`, `gender`
2. ì¶”ê°€ ì •ë³´:
   `instagramId `, `age`, `type(ì´ìƒí˜•)`
3. ë‚˜ì— ëŒ€í•œ ì†Œê°œ:
   `animal` ë³¸ì¸ê³¼ ë‹®ì€ ë™ë¬¼ ì„ íƒ
4. ë°¸ëŸ°ìŠ¤ ê²Œìž„:
   `situation` ì´ ë„¤ ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ, ê° ìƒí™©ì— ëŒ€í•œ ì„ íƒ

## ë‚´ ì½”ë“œì—ì„œ ê°•ì¡°í•  ë¶€ë¶„

- react-hook-form & zod

  ë©”ì¸ íŽ˜ì´ì§€ì—ì„œ zod objectì— ëŒ€í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í–ˆìœ¼ë©°, react-hook-formì„ ì‚¬ìš©í•˜ì—¬ ì „ì²´ í•„ë“œì˜ ê°’ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ê´€ë¦¬í•©ë‹ˆë‹¤. ê° ìŠ¤í… ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” useFormContext í›…ì„ ì‚¬ìš©í•´ ê° í•„ë“œì˜ ê°’ì„ ë“±ë¡í•˜ê³  ì—ëŸ¬ ìƒíƒœë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

- ì—ëŸ¬ ë©”ì„¸ì§€ ì²˜ë¦¬

  Zodë¡œ ê°ì²´ë¥¼ ì •ì˜í•  ë•Œ ìž…ë ¥ ì¡°ê±´ ë° ì œì•½ì— ë”°ë¼ ì—ëŸ¬ë©”ì„¸ì§€ë¥¼ í•¨ê»˜ ì„¤ì •í•˜ì—¬, ì‚¬ìš©ìžê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ìž…ë ¥ì„ ì‹œë„í•  ë•Œ ëª…ì‹œì ìœ¼ë¡œ ì—ëŸ¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. í•´ë‹¹ í˜•ì‹ì— ë§žì§€ ì•Šê²Œ ìž…ë ¥í•˜ê³  ë²„íŠ¼ì„ í´ë¦­í•˜ê²Œ ë˜ë©´ ê° ìŠ¤í… ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `formState.errors.í•„ë“œëª…`ìœ¼ë¡œ ì—ëŸ¬ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  `formState .errors.í•„ë“œëª….message`ë¡œ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë„ì›Œì¤ë‹ˆë‹¤.

  ```
  export const RegisterSchema = z.object({
    mbti: z.string().min(1, { message: ErrorMessages.mbti }),
    name: z.string().min(1, { message: ErrorMessages.name }),
    gender: z.string().min(1, { message: ErrorMessages.gender }),
    email: z.string().email(ErrorMessages.email),
    instagramId: z.string(),
    age: z.coerce
      .number()
      .min(20, { message: ErrorMessages.age })
      .max(100)
      .optional(),
    type: z.string().optional(),
    animal: z.string().min(1, { message: ErrorMessages.animal }),
    situation: z
      .array(
        z.object({
          scenario: z.number(),
          choice: z.number(),
        }),
      )
      .length(4),
  });
  ```

- ë‹¤ìŒ ë²„íŠ¼ êµ¬í˜„

  í•œ íŽ˜ì´ì§€ì—ì„œ í†µí•©ì ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ì„ ê´€ë¦¬í•˜ë©°, ê° ë‹¨ê³„ì—ì„œ í•„ìš”í•œ í•„ë“œì˜ ìœ íš¨ì„±ì„ í™•ì¸í•©ë‹ˆë‹¤. ì´ì—, ê° ìŠ¤í…ì—ì„œ ê²€ì¦í•´ì•¼í•˜ëŠ” í•„ë“œë“¤ì„ ê°€ì ¸ì˜¨ ë’¤, `methods.trigger`ë¡œ ê° í•„ë“œì˜ valid ìƒíƒœë¥¼ íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

  ```const handleNextStep = async () => {
    const currentStepFields = getStepFields();
    const valid = await methods.trigger(currentStepFields as []);
    if (valid && step < Steps.length - 1) {
      setStep(step + 1);
    }
  };
  ```

## ë‚´ ì½”ë“œì—ì„œ ë¶€ì¡±í•œ ë¶€ë¶„

- í•œ í™”ë©´ì— í•œ ë¬¸í•­ë§Œ í‘œì‹œ

  êµ¬í˜„ ì œì•½ì‚¬í•­ì´ì—ˆë˜ â€œí•œ í™”ë©´ì—ëŠ” í•œ ë¬¸í•­ë§Œ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤â€ë¥¼ ì¤€ìˆ˜í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê¸°íš ì»¨ì…‰ì— ë”°ë¥¸ ì§ˆë¬¸ êµ¬ì„± íŠ¹ì„± ìƒ í•œ í™”ë©´ì— í•œ ë¬¸í•­ë§Œ ë°°ì¹˜í•˜ëŠ” ê²ƒì´ ì–´ë µë‹¤ê³  ìƒê°í•´ ì—¬ëŸ¬ ì§ˆë¬¸ì„ í•œ í™”ë©´ì— ë‘ê²Œ ë˜ì—ˆëŠ”ë°, êµ¬í˜„ ì œì•½ì‚¬í•­ì„ ê³¼ì œ ì‹œìž‘ ì „ì— ë¨¼ì € ê¼¼ê¼¼ížˆ ì‚´íŽ´ë³´ê³  ì œì•½ì‚¬í•­ì„ ìš°ì„ ìœ¼ë¡œ í•˜ì—¬ ê³¼ì œë¥¼ ì§„í–‰í•´ì•¼ í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

- ì‚¬ìš©ì„± ê°œì„ 

  inputì˜ placeholder ê°’ ì„¤ì •ì´ë‚˜ ê° ìž…ë ¥ ê°’ì— ëŒ€í•œ ë” ê¼¼ê¼¼í•œ í˜•ì‹ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•„ ì‚¬ìš©ì„± ì¸¡ë©´ì—ì„œ ì¡°ê¸ˆ ë–¨ì–´ì§€ëŠ” ë¶€ë¶„ì´ ìžˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

- `Step4` ìµœì í™”

  Step4ì—ì„œ ë°¸ëŸ°ìŠ¤ ê²Œìž„ ë‹µë³€ ì„ íƒ ë¶€ë¶„ì˜ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê³  ìµœì í™”ëœ ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ì—¬ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚¬ í•„ìš”ê°€ ìžˆìŠµë‹ˆë‹¤. í˜„ìž¬ëŠ” ë‹µë³€ì„ ì„ íƒí•˜ë©´ ë°”ë¡œ formì˜ value ê°’ì— ë°”ë¡œ ì ìš©ë˜ë„ë¡ ë˜ì–´ ìžˆëŠ”ë°, ëª¨ë“  ë‹µë³€ì„ ì„ íƒ í›„ í•œë²ˆì— ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ê³ , onClick í•¨ìˆ˜ ë¶€ë¶„ì„ ë”°ë¡œ ë¶„ë¦¬í•˜ê±°ë‚˜ ì¢€ ë” ê°€ë…ì„± ì¢‹ê²Œ ê°œì„ í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
